<!DOCTYPE HTML>
<html lang="fr">
<head>
    <title>Mise en Production Continue - 1 an après</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=792, user-scalable=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="stylesheet" href="shower/themes/ribbon/styles/screen.css">
    <script type="text/javascript" src="js/l10n.js"></script>
    <link rel="prefetch" type="application/l10n" href="l10n.ini" />
    <link rel="shortcut icon" href="pictures/favicon.png">
    <style>
        abbr                            { border-bottom: #999 dotted 1px; }
        .slide.cover>div                { padding-top: 105px; }
        .slide>div                      { padding-top: 45px; height: 560px; }
        .border                         { border: 1px solid black; }
        small                           { font-size: small; }
        .slide                          { background: white url('pictures/devoxxfr-vertical.png') no-repeat 10px 30px; }
        .slide .hashtag                 { float: left; color: white; text-decoration: none; border: 0; }
        .slide.title h1                 { color: white; font-size: 70px; font-weight: bold; position: absolute; top: 130px; left: 400px; transform:rotate(-46deg); -webkit-transform:rotate(-46deg); 
                                          line-height: 80px; background-color: rgba(0,0,0,0.6); padding: 10px 20px; width: 500px; }
        .slide.title .color1            { background-color: #53B6BC; height: 400px; width: 400px; position: absolute; top: -200px; left: 200px; transform:rotate(-135deg); -webkit-transform:rotate(-135deg); }
        .slide.title .color2            { background-color: #F5AF33; height: 400px; width: 400px; position: absolute; top: -270px; left: 300px; transform:rotate(-135deg); -webkit-transform:rotate(-135deg); }
        .slide.title .color3            { background-color: white;   height: 400px; width: 400px; position: absolute; top: -340px; left: 400px; transform:rotate(-135deg); -webkit-transform:rotate(-135deg); }
        .slide.title .footer            { background: #53B6BC url('pictures/devoxxfr-small.png') no-repeat center center; height: 50px; position: absolute; bottom: -25px; left: 0; right: 0; color: white; font-size: 24px; padding: 0 10px; }
        .slide.title .footer a          { color: white; border: 0; }
        .slide.title .footer .twitter   { float: right; }
        .slide.title .footer .twitter img { display: inline; position: relative; z-index: 1; margin: 0 .2em 0 0; vertical-align: middle; }
        code                            { font-size: large; }
    </style>
</head>
<body class="list">
    <header class="caption">
        <h1>Mise en Production Continue - 1 an après</h1>
    </header>
    <section class="slide cover" id="Cover"><div>
        <style>
            #Cover .titles       { margin: -105px -120px 0 -120px; }
            #Cover h2            { font-size: 66px; padding: 60px 20px; margin: 0; background-color: white; color:#53B6BC; width: 90%;  }
            #Cover h3            { background-color: #F5AF33; height: 40px; width: 85%; }
            #Cover ul            { background-color: #53B6BC; font-size:30px; width: 60%; color: white; padding: 30px 15px; }
            #Cover ul li         { padding: 0; font-weight: bold; }
            #Cover ul a          { color: white; }
            #Cover a.valtech     { margin-left: 40px; position: relative; top: -4px; }
            #Cover a.valtech img { width: 130px; }
            #Cover ul img        { display: inline; position: relative; z-index: 1; margin: 0 .2em 0 0; vertical-align: middle; }
            #Cover a.twitter     { margin-right: 25px; }
            #Cover h4            { background: white url('pictures/devoxxfr.png') no-repeat 10px 10px; height: 80px; margin-top: 100px; }
            #Cover h5            { background: #53B6BC; height: 50px; margin-top: 5px; color: white; font-size: 24px; padding-left: 10px; }
        </style>
        <div class="titles">
            <h2>Mise en Production Continue<br>1 an après</h2>
            <h3></h3>
            <ul>
                <li><img src="pictures/twitter.png"><a href="https://twitter.com/pchaussalet" rel="me" class="twitter">@pchaussalet</a>- in-Tact
                <li><img src="pictures/twitter.png"><a href="https://twitter.com/ericlemerdy" rel="me" class="twitter">@ericlemerdy</a>- Valtech
            </ul>
            <h4></h4>
            <h5><a class="hashtag" href="https://twitter.com/search?q=%23deboxxbtc">#devoxx</a></h5>
        </div>
        <img src="pictures/cover.jpg" alt="">
    </div></section>
    <section class="slide cover title">
        <div>
            <div class="color1"></div><div class="color2"></div><div class="color3"></div>
            <h1>Il y a un an</h1>
            <img src="pictures/cover.jpg" alt="">
            <p class="footer"><a class="hashtag" href="https://twitter.com/search?q=%23deboxxbtc">#devoxx</a><span class="twitter"><img src="pictures/twitter.png"><a href="https://twitter.com/your_twitter" rel="me" class="twitter">@your_twitter</a></span></p>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>On est venu faire tirer du cable à des développeurs</h2>
            <img style="float: left; width: 385px; margin-right: 10px;" src="pictures/cables2.jpg">
            <img style="float: left; width: 385px;" src="pictures/cables1.jpg">
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>On a fait manipuler puppet</h2>
            <div>
                <img src="pictures/catbug_and_his_impossibear_puppet_by_mranyone-d62aewy.gif" style="width: 265px;">
                <small><a href="http://mranyone.deviantart.com/art/Catbug-and-his-Impossibear-puppet-366642178">réf. photo</a></small>
            </div>
            <img style="float: left; width: 350px; margin-right: 10px;" src="pictures/devops-1.jpeg">
            <img style="width: 350px;" src="pictures/devops-2.jpg">
        </div>
    </section>
    <section class="slide cover title">
        <div>
            <div class="color1"></div><div class="color2"></div><div class="color3"></div>
            <h1>Et encore aujourd'hui</h1>
            <img src="pictures/cover.jpg" alt="">
            <p class="footer"><a class="hashtag" href="https://twitter.com/search?q=%23deboxxbtc">#devoxx</a><span class="twitter"><img src="pictures/twitter.png"><a href="https://twitter.com/your_twitter" rel="me" class="twitter">@your_twitter</a></span></p>
        </div>
    </section>
    <section class="slide">
        <div>
            <blockquote>
                None of this stuff is really new.<br>
                <img src="pictures/Jez-Humble.png"><br>
                What has changed is we developed new patterns and practices and<br>
                we have new tools that enable us to do this.
            </blockquote>
            <p>- Jez Humble, oct. 2012</p>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>1 an après, on vous fait la démo.</h2>
            <div style="float:left;">
                <img style="width: 250px; margin-right: 10px;" src="pictures/see_you_next_mission_slide_by_narishm-d6uu9vn.png"><br>
                <small><a href="http://narishm.deviantart.com/art/See-You-Next-Mission-Slide-414598019">réf. photo</a></small>
            </div>
            <div>Allumez vos téléphones sur le wifi <strong>MEPC</strong></div>
            <div>Votre mission est de vérifier qu'on va déployer en continu.</div>
            <p>
                <h2>http://change.me/todo</h2>
            </p>
        </div>
    </section>
    <section class="slide">
        <div>
            <img style="width: 820px;" src="pictures/archi.jpg"><br>
        </div>
    </section>
    <section class="slide cover title">
        <div>
            <div class="color1"></div><div class="color2"></div><div class="color3"></div>
            <h1>Étape 0 : rien</h1>
            <img src="pictures/cover.jpg" alt="">
            <p class="footer"><a class="hashtag" href="https://twitter.com/search?q=%23deboxxbtc">#devoxx</a><span class="twitter"><img src="pictures/twitter.png"><a href="https://twitter.com/your_twitter" rel="me" class="twitter">@your_twitter</a></span></p>
        </div>
    </section>
    <section class="slide">
        <div>
            <img src="pictures/nothing.png" style="width: 280px;"/>
        </div>
    </section>
    <section class="slide cover title">
        <div>
            <div class="color1"></div><div class="color2"></div><div class="color3"></div>
            <h1>Étape 1 : déployons</h1>
            <img src="pictures/cover.jpg" alt="">
            <p class="footer"><a class="hashtag" href="https://twitter.com/search?q=%23deboxxbtc">#devoxx</a><span class="twitter"><img src="pictures/twitter.png"><a href="https://twitter.com/your_twitter" rel="me" class="twitter">@your_twitter</a></span></p>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>Gentlemen, start your engines</h2>
            <ul>
                <li>
                    Construit et taggue une image Docker (un conteneur web ngnix)<br>
                    <blockquote>build_front.sh :</blockquote>
                    <code>cd front</code><br>
                    <code>docker build --rm -t mepc/front:1 .</code>
                <li>
                    Lance une instance :<br>
                    <blockquote>run_front.sh :</blockquote>
                    <code>docker run -d -t -p 2222:22 -p 8080:80 --name front mepc/front</code><br>
            </ul>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>Ça marche ?</h2>
            <div>Non parce qu'on a rien mis dans le serveur</div>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>Gentlemen, ... deploy ?!? your engines ?</h2>
            <div>
                Dans le front :<br>
                <code>npm install</code><br>
                <code>grunt package deploy</code>
            </div>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>Et maintenant, ça marche ?</h2>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>Encore, encore !!</h2>
            <div>
                Rien de plus simple :<br>
                <code>grunt package deploy</code>
            </div>
            <img src="pictures/tada_by_13vampirella-d6skye5.jpg" style="width: 335px"/><br>
            <small><a href="http://fav.me/d6skye5">réf. photo</a></small>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>Et comment est-ce que je conquiers le monde ?</h2>
            <img src="pictures/cartoon-pinky-and-the-brain_00215944.jpg" style="width: 475px"><br/>
            <small><a href="http://bit.ly/1i7pYvf">réf. photo</a></small>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>Déployons un backend !</h2>
            <div style="float: right">
                <img src="pictures/ENIAC.jpg" style="height: 200px"><br/>
                <small style="float: right"><a href="http://bit.ly/1iAoExs">réf. photo</a></small>
            </div>
            <ul style="margin-top: 175px">
                <li>
                    load balancer : <br/>
                    <code>docker run -d -p 8080:80 --name rp hipache</code>
                </li>
                <li>
                    mongodb :<br/>
                    <code>docker run -d --expose 27017 --name db mepc/db</code>
                </li>
                <li>
                    appli : <br/>
                    <code>docker run -d --expose 8080 --name app-blue mepc/app:1.0</code><br/>
                    <strong> => WAT ?</strong>
                </li>
            </ul>
        </div>
    </section>
    <section class="slide">
        <div style="padding-top: 20%">
            <blockquote>Every build is a Release Candidate</blockquote>
            <p>- Jez Humble</p>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>Chaque build génère un livrable<br/>
                "prodable"</h2>
            <h3>1 build = 1 image docker</h3>
            <code>
                docker build -t mepc/app:1.0 .
            </code><br/>
            <code>
                docker save -o mepc_app-1.0.tar mepc/app:1.0
            </code>
            <h3>1 image docker = 1 déploiement</h3>
            <code style="font-size: xx-small">
                curl --data-binary @mepc_app-1.0.tar -H 'Content-type: application/tar' http://10.0.2.2:4243/images/create?fromSrc=-&repo=mepc/app&tag=1.0
            </code><br/>
            <code style="font-size: xx-small">
                    curl --data-binary '{"Image":"mepc/app:1.0","ExposedPorts":{"8080/tcp":{}}}' -H 'Content-Type: application/json' \
            </code><br/>
            <code style="font-size: xx-small;margin-top: -1em;display: block;width: 30em;">
                    'http://10.0.2.2:4243/containers/create?name=app-blue'
            </code><br/>
            <code style="font-size: xx-small;display: block;margin-top: -2em;">
                curl --data-binary '{ "Links": [ "db:db" ] }' -H 'Content-Type: application/json' 'http://127.0.0.1:4243/containers/app-blue/start'
            </code>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>Un livrable validé part en prod</h2>
            <h3>Bascule sur le nouveau backend</h3>
            <code></code>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>Conclusions</h2>
            <ul>
                <li>En un an, les outils ont avancé vite
                <li>Les pratiques pourraient suivre
            </ul>
            <img src="pictures/meme.jpg" style="float: right; width: 375px">
            <ul>Rendez-vous dans un an</ul>
        </div>
    </section>
    <section class="slide">
        <div>
            <h2>Références</h2>
            <ul>
                <li><a href="http://todomvc.com/">TodoMVC</a> Aide à choisir un framework MV*</li>
                <li><a href="http://tatiyants.com/jenkins-build-monitor/">Jenkins Build Monitor</a> Un beau dashboard de pipeline jenkins</li>
                <li><a href="http://www.infoq.com/articles/orch-pipelines-jenkins">Orchestrating Your Delivery Pipelines with Jenkins</a> paru le 29/03/2014</li>
            </ul>
        </div>
    </section>
    <div class="progress"><div></div></div>
    <!-- Custom shower build, see https://github.com/your_twitter/shower/commit/a621cf451f24b74f70233cc91f6d934904dd4ae4 -->
    <script src="shower/shower.min.js"></script>
</body>
</html>
